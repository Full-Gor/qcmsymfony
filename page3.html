<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R√©sum√© Symfony - Formation Compl√®te</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --primary: #4CAF50;
            --secondary: #2196F3;
            --danger: #f44336;
            --dark: #333;
            --light: #f8f9fa;
        }
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        body {
            background-color: #f5f5f5;
            color: var(--dark);
            line-height: 1.6;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 2rem 0;
            text-align: center;
            margin-bottom: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        h2 {
            color: var(--primary);
            margin: 2rem 0 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary);
        }
        h3 {
            color: var(--secondary);
            margin: 1.5rem 0 0.5rem;
        }
        .section {
            background: white;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        .section:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        code {
            background: #f0f0f0;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9rem;
        }
        pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 1rem;
            border-radius: 8px;
            overflow-x: auto;
            margin: 1rem 0;
            tab-size: 4;
            white-space: pre;
            user-select: auto;
        }
        pre code {
            background: none;
            padding: 0;
            color: #f8f8f2;
        }
        pre::selection, pre code::selection {
            background: #555;
            color: #f8f8f2;
        }
        .btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            text-align: center;
            text-decoration: none;
            transition: background-color 0.3s;
            margin: 1rem 0;
        }
        .btn:hover {
            background-color: #45a049;
        }
        .btn-secondary {
            background-color: var(--secondary);
        }
        .btn-secondary:hover {
            background-color: #0d8bf2;
        }
        .question {
            margin: 1.5rem 0;
            padding: 1rem;
            background: #f9f9f9;
            border-left: 4px solid var(--secondary);
            border-radius: 4px;
        }
        .options {
            margin: 0.5rem 0;
        }
        .option {
            display: block;
            margin: 0.5rem 0;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 4px;
            transition: all 0.2s;
        }
        .option:hover {
            background: #e9e9e9;
        }
        .correct {
            background-color: #d4edda;
            border-left: 4px solid var(--primary);
            color: #155724;
        }
        .incorrect {
            background-color: #f8d7da;
            border-left: 4px solid var(--danger);
            color: #721c24;
        }
        .result {
            margin-top: 2rem;
            padding: 1rem;
            text-align: center;
            font-size: 1.2rem;
            font-weight: bold;
        }
        .hidden {
            display: none;
        }
        .fade-out {
            opacity: 0;
            transition: opacity 0.5s ease-out;
        }
        .fade-in {
            opacity: 1;
            transition: opacity 0.5s ease-in;
        }
        .emoji {
            font-size: 1.2em;
            margin-right: 0.3em;
        }
        .note {
            background: #fff3cd;
            padding: 1rem;
            border-left: 4px solid #ffc107;
            margin: 1rem 0;
            border-radius: 4px;
        }
        footer {
            text-align: center;
            margin-top: 3rem;
            padding: 1rem;
            color: #666;
        }
        .course-nav {
            padding: 1rem;
            background: #4CAF50;
            margin-bottom: 2rem;
        }
        .course-nav a {
            color: white;
            text-decoration: none;
            margin-right: 1.5rem;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .course-nav a:hover {
            background-color: #45a049;
        }
        .course-nav a.current {
            background-color: #2E7D32;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <nav class="course-nav">
        <a href="index.html">Cours 1</a>
        <a href="page2.html">Cours 2</a>
        <a href="page3.html" class="current">Cours 3</a>
    </nav>
    <div class="container">
        <header>
            <h1><span class="emoji">üöÄ</span> Formation Symfony - R√©sum√© Complet</h1>
            <p>Toutes les commandes et concepts essentiels en un seul endroit</p>
        </header>

        <div id="courseContent">
            <section class="section">
                <h2><span class="emoji">üìå</span> Installation et Commandes Utiles</h2>
                <h3>1. Installation Symfony CLI</h3>
                <pre><code>curl -sS https://get.symfony.com/cli/installer | bash
# Ajouter ~/.symfony/bin √† $PATH</code></pre>
                <h3>2. Cr√©ation de projet</h3>
                <pre><code>symfony new mon_projet --webapp  # Version compl√®te
symfony new mon_projet           # Version minimale</code></pre>
                <h3>3. Commandes principales</h3>
                <pre><code>symfony serve -d        # Lancer le serveur
symfony console make:controller
symfony console make:entity
symfony console make:migration
symfony console doctrine:migrations:migrate</code></pre>
            </section>

            <section class="section">
                <h2><span class="emoji">üèó</span> Mod√®le MVC dans Symfony</h2>
                <h3>Structure MVC</h3>
                <ul>
                    <li><strong>Mod√®le</strong>: <code>src/Entity/</code> et <code>src/Repository/</code></li>
                    <li><strong>Vue</strong>: <code>templates/</code> (fichiers Twig)</li>
                    <li><strong>Contr√¥leur</strong>: <code>src/Controller/</code></li>
                </ul>
                <h3>Exemple Contr√¥leur</h3>
                <pre><code>#[Route('/produits', name: 'liste_produits')]
public function index(ProduitRepository $repository): Response
{
    $produits = $repository->findAll();
    return $this->render('produit/index.html.twig', [
        'produits' => $produits
    ]);
}</code></pre>
            </section>

            <section class="section">
                <h2><span class="emoji">üîÑ</span> Entit√©s et Doctrine</h2>
                <h3>Cr√©ation d'entit√©</h3>
                <pre><code>php bin/console make:entity</code></pre>
                <h3>Exemple d'entit√©</h3>
                <pre><code>#[ORM\Entity]
class Product
{
    #[ORM\Id]
    #[ORM\GeneratedValue]
    #[ORM\Column(type: "integer")]
    private $id;

    #[ORM\Column(type: "string", length: 255)]
    private $name;
}</code></pre>
                <h3>Commandes Doctrine</h3>
                <pre><code>php bin/console doctrine:database:create
php bin/console make:migration
php bin/console doctrine:migrations:migrate</code></pre>
            </section>

            <section class="section">
                <h2><span class="emoji">üîê</span> S√©curit√© et Utilisateurs</h2>
                <h3>Cr√©ation d'utilisateur</h3>
                <pre><code>php bin/console make:user</code></pre>
                <h3>Questions pos√©es</h3>
                <ol>
                    <li>Nom de la classe (ex: <code>User</code>)</li>
                    <li>Stockage en base (<code>yes</code>)</li>
                    <li>Identifiant unique (<code>email</code> ou <code>username</code>)</li>
                    <li>Hachage mot de passe (<code>yes</code>)</li>
                </ol>
                <h3>Interface UserInterface</h3>
                <pre><code>class User implements UserInterface {
    public function getRoles(): array { /*...*/ }
    public function getPassword(): ?string { /*...*/ }
    public function getUserIdentifier(): string { /*...*/ }
}</code></pre>
            </section>

            <section class="section">
                <h2><span class="emoji">üß©</span> Interfaces en PHP</h2>
                <h3>D√©claration d'interface</h3>
                <pre><code>interface Vehicule {
    public function demarrer();
    public function arreter();
}</code></pre>
                <h3>Impl√©mentation</h3>
                <pre><code>class Voiture implements Vehicule {
    public function demarrer() {
        echo "üöó La voiture d√©marre.\n";
    }
    public function arreter() {
        echo "üõë La voiture s'arr√™te.\n";
    }
}</code></pre>
                <h3>Utilit√©</h3>
                <ul>
                    <li><strong>Contrat m√©thodologique</strong>: Garantit que toutes les classes impl√©mentant l'interface respectent une structure commune.</li>
                    <li><strong>Polymorphisme</strong>: Permet de traiter diff√©rents types d'objets de mani√®re uniforme.</li>
                    <li><strong>Injection de d√©pendances</strong>: Facilite l'utilisation de services interchangeables dans Symfony.</li>
                </ul>
                <div class="note">
                    <p><strong>Note</strong>: Les interfaces comme <code>UserInterface</code> dans Symfony sont essentielles pour la gestion des utilisateurs et la s√©curit√©.</p>
                </div>
            </section>

            <div class="text-center">
                <button id="show-quiz" class="btn">Passer au QCM</button>
            </div>
        </div>

        <div id="quizContent" class="hidden">
            <section class="section">
                <h2><span class="emoji">‚ùì</span> QCM - Testez vos connaissances</h2>
                <div id="quiz-questions">
                    <div class="question">
                        <p class="font-bold">1. Quelle commande installe Symfony CLI sous Linux ?</p>
                        <div class="options">
                            <button class="option" data-question="0" data-option="0">curl -sS https://get.symfony.com/cli/installer | bash</button>
                            <button class="option" data-question="0" data-option="1">sudo apt-get install symfony</button>
                            <button class="option" data-question="0" data-option="2">php bin/console install:symfony</button>
                            <button class="option" data-question="0" data-option="3">npm install symfony-cli</button>
                        </div>
                    </div>
                    <div class="question">
                        <p class="font-bold">2. Quel dossier contient les fichiers Twig ?</p>
                        <div class="options">
                            <button class="option" data-question="1" data-option="0">src/Entity/</button>
                            <button class="option" data-question="1" data-option="1">templates/</button>
                            <button class="option" data-question="1" data-option="2">src/Controller/</button>
                            <button class="option" data-question="1" data-option="3">src/Repository/</button>
                        </div>
                    </div>
                    <div class="question">
                        <p class="font-bold">3. Quelle commande cr√©e une entit√© ?</p>
                        <div class="options">
                            <button class="option" data-question="2" data-option="0">php bin/console make:controller</button>
                            <button class="option" data-question="2" data-option="1">php bin/console make:entity</button>
                            <button class="option" data-question="2" data-option="2">php bin/console make:migration</button>
                            <button class="option" data-question="2" data-option="3">php bin/console doctrine:entity</button>
                        </div>
                    </div>
                    <div class="question">
                        <p class="font-bold">4. Que fait la commande <code>symfony serve -d</code> ?</p>
                        <div class="options">
                            <button class="option" data-question="3" data-option="0">Cr√©e un nouveau projet</button>
                            <button class="option" data-question="3" data-option="1">Lance le serveur en arri√®re-plan</button>
                            <button class="option" data-question="3" data-option="2">Vide le cache</button>
                            <button class="option" data-question="3" data-option="3">Applique une migration</button>
                        </div>
                    </div>
                    <div class="question">
                        <p class="font-bold">5. Quel composant MVC g√®re les requ√™tes HTTP ?</p>
                        <div class="options">
                            <button class="option" data-question="4" data-option="0">Mod√®le</button>
                            <button class="option" data-question="4" data-option="1">Vue</button>
                            <button class="option" data-question="4" data-option="2">Contr√¥leur</button>
                            <button class="option" data-question="4" data-option="3">Repository</button>
                        </div>
                    </div>
                    <div class="question">
                        <p class="font-bold">6. Que d√©finit une interface en PHP ?</p>
                        <div class="options">
                            <button class="option" data-question="5" data-option="0">Une classe abstraite</button>
                            <button class="option" data-question="5" data-option="1">Un contrat de m√©thodes</button>
                            <button class="option" data-question="5" data-option="2">Une m√©thode statique</button>
                            <button class="option" data-question="5" data-option="3">Une logique compl√®te</button>
                        </div>
                    </div>
                    <div class="question">
                        <p class="font-bold">7. Quelle m√©thode est requise par <code>UserInterface</code> ?</p>
                        <div class="options">
                            <button class="option" data-question="6" data-option="0">getUsername()</button>
                            <button class="option" data-question="6" data-option="1">getRoles()</button>
                            <button class="option" data-question="6" data-option="2">getEmail()</button>
                            <button class="option" data-question="6" data-option="3">setPassword()</button>
                        </div>
                    </div>
                </div>
                <div id="quiz-result" class="result hidden">
                    <p id="score-text"></p>
                    <button id="restart-quiz" class="btn btn-secondary">Recommencer le QCM</button>
                </div>
            </section>
        </div>

        <footer>
            <p>¬© <script>document.write(new Date().getFullYear())</script> Formation Symfony. Tous droits r√©serv√©s.</p>
        </footer>
    </div>

    <script>
        const questions = [
            {
                question: "Quelle commande installe Symfony CLI sous Linux ?",
                options: [
                    "curl -sS https://get.symfony.com/cli/installer | bash",
                    "sudo apt-get install symfony",
                    "php bin/console install:symfony",
                    "npm install symfony-cli"
                ],
                correct: 0
            },
            {
                question: "Quel dossier contient les fichiers Twig ?",
                options: [
                    "src/Entity/",
                    "templates/",
                    "src/Controller/",
                    "src/Repository/"
                ],
                correct: 1
            },
            {
                question: "Quelle commande cr√©e une entit√© ?",
                options: [
                    "php bin/console make:controller",
                    "php bin/console make:entity",
                    "php bin/console make:migration",
                    "php bin/console doctrine:entity"
                ],
                correct: 1
            },
            {
                question: "Que fait la commande symfony serve -d ?",
                options: [
                    "Cr√©e un nouveau projet",
                    "Lance le serveur en arri√®re-plan",
                    "Vide le cache",
                    "Applique une migration"
                ],
                correct: 1
            },
            {
                question: "Quel composant MVC g√®re les requ√™tes HTTP ?",
                options: [
                    "Mod√®le",
                    "Vue",
                    "Contr√¥leur",
                    "Repository"
                ],
                correct: 2
            },
            {
                question: "Que d√©finit une interface en PHP ?",
                options: [
                    "Une classe abstraite",
                    "Un contrat de m√©thodes",
                    "Une m√©thode statique",
                    "Une logique compl√®te"
                ],
                correct: 1
            },
            {
                question: "Quelle m√©thode est requise par UserInterface ?",
                options: [
                    "getUsername()",
                    "getRoles()",
                    "getEmail()",
                    "setPassword()"
                ],
                correct: 1
            }
        ];

        let currentScore = 0;

        function displayQuiz() {
            const quizContainer = document.getElementById('quiz-questions');
            quizContainer.innerHTML = '';
            questions.forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <p class="font-bold">${index + 1}. ${q.question}</p>
                    <div class="options">
                        ${q.options.map((option, i) => `
                            <button class="option" data-question="${index}" data-option="${i}">
                                ${option}
                            </button>
                        `).join('')}
                    </div>
                `;
                quizContainer.appendChild(questionDiv);
            });

            document.querySelectorAll('.option').forEach(btn => {
                btn.addEventListener('click', function() {
                    const questionIndex = parseInt(this.dataset.question);
                    const optionIndex = parseInt(this.dataset.option);
                    const correctIndex = questions[questionIndex].correct;

                    document.querySelectorAll(`.option[data-question="${questionIndex}"]`)
                        .forEach(b => b.disabled = true);

                    if (optionIndex === correctIndex) {
                        this.classList.add('correct');
                        currentScore++;
                    } else {
                        this.classList.add('incorrect');
                        document.querySelector(`.option[data-question="${questionIndex}"][data-option="${correctIndex}"]`)
                            .classList.add('correct');
                    }

                    const answeredQuestions = document.querySelectorAll('.option:disabled').length / questions[0].options.length;
                    if (answeredQuestions === questions.length) {
                        showResult();
                    }
                });
            });
        }

        function showResult() {
            const resultDiv = document.getElementById('quiz-result');
            const scoreText = document.getElementById('score-text');
            scoreText.textContent = `Votre score : ${currentScore} / ${questions.length}`;
            resultDiv.classList.remove('hidden');
        }

        document.getElementById('show-quiz').addEventListener('click', () => {
            const courseContent = document.getElementById('courseContent');
            const quizContent = document.getElementById('quizContent');
            courseContent.classList.add('fade-out');
            setTimeout(() => {
                courseContent.classList.add('hidden');
                quizContent.classList.remove('hidden');
                quizContent.classList.add('fade-in');
                displayQuiz();
            }, 500);
        });

        document.getElementById('restart-quiz').addEventListener('click', () => {
            currentScore = 0;
            document.getElementById('quiz-result').classList.add('hidden');
            document.querySelectorAll('.option').forEach(btn => {
                btn.classList.remove('correct', 'incorrect');
                btn.disabled = false;
            });
            document.getElementById('quizContent').classList.add('fade-out');
            setTimeout(() => {
                document.getElementById('courseContent').classList.remove('hidden', 'fade-out');
                document.getElementById('quizContent').classList.add('hidden');
                document.getElementById('quizContent').classList.remove('fade-in');
            }, 500);
        });
    </script>
</body>
</html>